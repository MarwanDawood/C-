<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8"></meta>
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0"></meta>
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge"></meta>
<title>LED Control from Android&#8482; Device</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "LED Control from Android&#8482; Device",
          "description": "This example shows you how to control Raspberry Pi&#174; LED from an Android device.",
          "thumbnailURL": "../../../examples/raspberrypi/win64/LEDControlFromAndroidTMDeviceExample_01.png",
          "genre": "Example",
          "isBasedOn": {
          "@type": "Product",
          "name": "Simulink"

        },
          "identifier": "raspberrypi.LEDControlFromAndroidTMDeviceExample",
          "name": "LEDControlFromAndroidTMDeviceExample"

        }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('raspberrypi/LEDControlFromAndroidTMDeviceExample')"

        }</script><link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css"></link>


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript"></meta>
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="fe"></meta>
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex"></meta>

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="This example shows you how to control Raspberry Pi&#174; LED from an Android device."></meta><meta xmlns="http://www.w3.org/1999/xhtml" content="../../../examples/raspberrypi/win64/LEDControlFromAndroidTMDeviceExample_01.png" itemprop="thumbnailUrl"></meta>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" src="../includes/product/scripts/jquery/jquery-latest.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/site6.css?201901150941" rel="stylesheet" type="text/css"></link>
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/site6_lg.css?201901150941" rel="stylesheet" media="screen and (min-width: 1200px)"></link>
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/site6_md.css?201901150941" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)"></link>
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/site6_sm+xs.css?201901150941" rel="stylesheet" media="screen and (max-width: 991px)"></link>
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/site6_sm.css?201901150941" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)"></link>
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/site6_xs.css?201901150941" rel="stylesheet" media="screen and (max-width: 767px)"></link>
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/site6_offcanvas.css?201901150941" rel="stylesheet" type="text/css"></link>

<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/product/scripts/examples.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/shared/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/shared/scripts/helpservices.js"></script>





<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/product/scripts/bootstrap.min.js" type="text/javascript"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css"></link>
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css"></link>
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print"></link>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" src="../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container includes_subnav affix-top"><div class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-xs-12 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../../documentation-center.html">Documentation</a></h1></div><button type="button" class="navbar-toggle collapsed subnav visible-xs" data-toggle="collapse" data-target=".mobile_subnav_content"><span class="icon-arrow-down icon_24"></span></button></div><div class="crux_nav_container hidden-xs"><div class="crux_nav"><ul id="topnav_main"><li id="crux_nav_documentation" class="crux_nav_active"><a>All</a></li><li id="crux_nav_example"><a href="../examples.html">Examples</a></li><li id="crux_nav_function"><a href="../referencelist.html?type=function">Functions</a></li><li id="crux_nav_block"><a href="../referencelist.html?type=block">Blocks</a></li><li role="presentation" class="dropdown" id="topnav_more" style="display:none;"><a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false"> More <span class="caret"></span></a><ul class="dropdown-menu"></ul></li></ul></div></div></div><div class="col-xs-12" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2018b" data-language="en" action="../../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="sr-only">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> </input><div class="input-group-btn"><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search pull-right icon_32 visible-xs" data-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="visible-xs" id="search_actuator"><button class="btn icon-search btn_search pull-right icon_16" data-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div><div class="row visible-xs" id="mobile_subnav"><div class="col-xs-12"><div class="navbar-collapse collapse mobile_subnav_content"><div class="crux_nav_container"><div class="crux_nav"><ul class="nav navbar-nav subnav"><li id="crux_nav_documentation" class="crux_nav_active"><a>All</a></li><li id="crux_nav_example"><a href="../examples.html">Examples</a></li><li id="crux_nav_function"><a href="../referencelist.html?type=function">Functions</a></li><li id="crux_nav_block"><a href="../referencelist.html?type=block">Blocks</a></li></ul></div></div></div></div></div></div></div><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_actuator" data-toggle="offcanvas" data-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="sr-only">Toggle navigation</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-filter" tabindex="0"></span><span class="offcanvas_actuator_close" tabindex="0"></span></div><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-md-12 hidden-xs hidden-sm"></div></div></div></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar" role="navigation">
<nav class="offcanvas_nav" role="navigation">
<ul class="nav_breadcrumb"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../../examples.html" itemprop="url"><span itemprop="title">Examples Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html">Simulink Support Package for Raspberry Pi Hardware</a>
</li>
</ul><ul class="nav_scrollspy nav">
<li class="nav_scrollspy_function"><a href="#responsive_offcanvas">LED Control from Android&#8482; Device</a></li>
<li class="nav_scrollspy_title" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li><a href="#d120e2189" class="intrnllnk">Introduction</a></li><li><a href="#d120e2211" class="intrnllnk">Prerequisites</a></li><li><a href="#d120e2221" class="intrnllnk">Required Hardware</a></li><li><a href="#d120e2234" class="intrnllnk">Task 1 - Install Simulink Support Package for Android Devices</a></li><li><a href="#d120e2266" class="intrnllnk">Task 2 - Configure Network Connection</a></li><li><a href="#d120e2306" class="intrnllnk">Task 3 - Run Simulink Models on Raspberry Pi Board and Android Device</a></li><li><a href="#d120e2343" class="intrnllnk">Summary</a></li></ul>
</nav>
<script src="../includes/product/scripts/offcanvas.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-xs-12">

<section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en"><div id="pgtype-example">
<section itemprop="content"><div class="example_icon"></div><h2 class="title r2018b example" itemprop="title content" id="example-raspberrypiandroidgettingstarted">LED Control from Android&#8482; Device</h2><div class="pull-right examples_short_list" style="width:250px; margin-left: 10px; margin-bottom: 10px;"><div data-pane="metadata" style="margin-bottom: 0px;" class="panel metadata_container"><div class="panel-body metadata_content" style="padding-top:0px; padding-bottom:0px;"><div class="row"><div class="col-xs-12"><a class="btn btn_secondary btn-block" href="matlab:openExample('raspberrypi/LEDControlFromAndroidTMDeviceExample')">Open Example</a></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="raspberrypi-ex11240596"></meta><meta itemprop="exampletitle" content="LED Control from Android&#8482; Device"></meta></div><span id="LEDControlFromAndroidTMDeviceExample" class="anchor_target"></span>

<p class="shortdesc">This example shows you how to control Raspberry Pi&#174; LED from an Android device.</p>

<div class="procedure"><h3 class="title" id="d120e2189">Introduction<span id="LEDControlFromAndroidTMDeviceExample-1" class="anchor_target"></span></h3><p>Android phones and tablets provide wireless access and graphical user interface. You can create compelling projects by using an Android device as a front end to control hardware and peripherals attached to a Raspberry Pi board wirelessly. In this example, you will configure and run two Simulink models onto Raspberry Pi hardware and Android device respectively. You will be able to control the LED on/off on Raspberry Pi board from Android device.</p><p>You will learn how to:</p><div class="itemizedlist"><ul><li><p>Set up network connection between Raspberry Pi hardware and Android device</p></li><li><p>Configure and run a Simulink model for Raspberry Pi hardware to receive UDP packets from Android device</p></li><li><p>Configure and run a Simulink model for Android device to send UDP packets to Raspberry Pi hardware</p></li></ul></div><div class="informalfigure"><div id="d120e2208" class="mediaobject"><p><img src="../../../examples/raspberrypi/win64/LEDControlFromAndroidTMDeviceExample_01.png" alt=""></img></p></div></div><h3 class="title" id="d120e2211">Prerequisites<span id="LEDControlFromAndroidTMDeviceExample-2" class="anchor_target"></span></h3><div class="itemizedlist"><ul><li><p>We recommend completing <a href="../ref/getting-started-with-raspberry-pi-hardware.html" class="a">Getting Started with Simulink Support Package for Raspberry Pi Hardware</a> example.</p></li></ul></div><h3 class="title" id="d120e2221">Required Hardware<span id="LEDControlFromAndroidTMDeviceExample-3" class="anchor_target"></span></h3><p>To run this example you need the following hardware:</p><div class="itemizedlist"><ul><li><p>Raspberry Pi board</p></li><li><p>Android phone or tablet</p></li></ul></div><h3 class="title" id="d120e2234">Task 1 - Install Simulink Support Package for Android Devices<span id="LEDControlFromAndroidTMDeviceExample-4" class="anchor_target"></span></h3><p>You need <strong class="emphasis bold">Simulink Support Package for Android Devices</strong> to run Simulink model on Android devices.</p><p><strong class="emphasis bold">1.</strong> Install <strong class="emphasis bold">Simulink Support Package for Android Devices</strong>.</p><p>Click link below to</p><p><a href="matlab:hwconnectinstaller.launchInstaller('BaseCode','ANDROID','StartAtStep','SelectPackage')" target="_blank">Download and Install Simulink Support Package for Android Devices</a></p><p><strong class="emphasis bold">2.</strong> (Recommended) Complete the <strong class="emphasis bold"><a href="https://www.mathworks.com/help/supportpkg/android/examples/getting-started-with-android-devices.html" target="_blank">Getting Started with Android Devices</a></strong> example in <strong class="emphasis bold">Simulink Support Package for Android Devices</strong> you just installed.</p><h3 class="title" id="d120e2266">Task 2 - Configure Network Connection<span id="LEDControlFromAndroidTMDeviceExample-5" class="anchor_target"></span></h3><p>In this task, you will set up network connection between Raspberry Pi board and Android device. The communication protocol used in this example is UDP.</p><p><strong class="emphasis bold">1.</strong> Connect Raspberry Pi board to the network with Ethernet cable through Ethernet port.</p><p><strong class="emphasis bold">2.</strong> Connect Android device to the same network through Wi-Fi. Check <strong class="emphasis bold">Settings</strong> -&gt; <strong class="emphasis bold">Wi-Fi</strong> -&gt; <strong class="emphasis bold">[Wi-Fi network connected]</strong> to find the IP address of your Android device.</p><p><strong class="emphasis bold">3.</strong> Verify the connection between your Raspberry Pi board and Android device.</p><p>Execute the following command on the MATLAB command prompt:</p><div class="code_responsive"><pre id="d120e2295" class="programlisting">r = raspberrypi
</pre></div><p>This command returns an object with IP address info for the Raspberry Pi board.</p><p>Run command <strong class="emphasis bold">system(r, 'sudo ping [Android_IP_Address] -c 10')</strong> with the Android device IP address found in step 2 to verify the connection. e.g.</p><div class="code_responsive"><pre id="d120e2304" class="programlisting">system(r, <span style="color:#A020F0">'sudo ping 172.31.205.40 -c 10'</span>)
</pre></div><h3 class="title" id="d120e2306">Task 3 - Run Simulink Models on Raspberry Pi Board and Android Device<span id="LEDControlFromAndroidTMDeviceExample-6" class="anchor_target"></span></h3><p><strong class="emphasis bold">1.</strong> Open preconfigured <a href="matlab:open_system('raspberrypiandroidgettingstarted.slx')" target="_blank">Raspberry Pi Model</a> and configure it with the IP address of your Raspberry Pi board. Build and run this model on Raspberry Pi board by clicking on the <strong class="emphasis bold">Deploy to Hardware</strong> button.</p><p><strong class="emphasis bold">2.</strong> Open preconfigured <a href="matlab:open_system('androidraspberrypigettingstarted.slx')" target="_blank">Android Model</a>. Double-click on the <strong class="emphasis bold">UDP Send</strong> block. Open the block mask and enter the IP address of your Raspberry Pi board in the <strong class="emphasis bold">Remote IP address</strong> edit box. Click <strong class="emphasis bold">OK</strong> to save and close the block mask. Build and run this model on your Android device by clicking on the <strong class="emphasis bold">Deploy to Hardware</strong> button. An Android app will run on your Android device.</p><p><strong class="emphasis bold">3.</strong> Once the Android app runs, press the switch button in the Android app and observe the LED on/off.</p><h3 class="title" id="d120e2343">Summary<span id="LEDControlFromAndroidTMDeviceExample-7" class="anchor_target"></span></h3><p>This example showed you how to create Simulink models that allow communication between a Raspberry Pi hardware board and Android device using UDP protocol.</p></div></section>
    </div><div class="clearfix"></div>
<div class="feedbackblock">Was this topic helpful?
<input type="button" value="Yes" onClick="openFeedbackWindow('https://www.mathworks.com/programs/bounce_hub_help.html?s_cid=Help_Topic_Survey&amp;surveyParams='+document.location.href+'-YES-R2018b');"></input>
<input type="button" value="No" onClick="openFeedbackWindow('https://www.mathworks.com/programs/bounce_hub_help.html?s_cid=Help_Topic_Survey&amp;surveyParams='+document.location.href+'-NO-R2018b');"></input>
</div>
</section>

<!--Last updated: Tue Jan 15 09:41:23 EST 2019-->
</div>
</div>
</div><!--close_0960-->
</div><!--close_0970-->
<div xmlns="http://www.w3.org/1999/xhtml" class="body_trail_container">
<div class="container-fluid">
<div class="row">
<div class="col-xs-12">
<div class="row"><div class="col-xs-12 col-sm-3"><h5><a href="../index.html?s_cid=doc_ftr">Simulink Support Package for Raspberry Pi Hardware Documentation</a></h5>
<ul class="list-unstyled hidden-xs"><li><a href="../index.html?s_cid=doc_ftr">Documentation</a></li>
<li><a href="../referencelist.html?type=function&amp;s_cid=doc_ftr">Functions and Other Reference</a></li>
<li><a href="../release-notes.html?s_cid=doc_ftr">Release Notes</a></li>
</ul>
</div>
<div class="col-xs-12 col-sm-3"><h5><a href="https://www.mathworks.com/support.html?s_cid=doc_ftr">Support</a></h5>
<ul class="list-unstyled hidden-xs"><li><a href="https://www.mathworks.com/matlabcentral/answers/index?s_cid=doc_ftr">MATLAB Answers</a></li><li><a href="https://www.mathworks.com/support/install-matlab.html?s_cid=doc_ftr">Installation Help</a></li><li><a href="https://www.mathworks.com/support/bugreports/?s_cid=doc_ftr">Bug Reports</a></li><li><a href="https://www.mathworks.com/products/availability.html?s_cid=doc_ftr">Product Requirements</a></li><li><a href="https://www.mathworks.com/downloads/?s_cid=doc_ftr">Software Downloads</a></li></ul>
</div>
</div>
</div>
</div>
</div><!--END.CLASS container-fluid-->
</div><!--END.CLASS body_trail_container-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-xs-12">
<p class="copyright">© 1994-2019 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="MATLAB:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="MATLAB:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="MATLAB:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="MATLAB:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</body>
</html>
